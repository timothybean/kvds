"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[8195],{18195:function(e,n,t){t.r(n),t.d(n,{default:function(){return En}});var r,a=t(29439),l=t(23132),i=t(47313),o=t(22408),s=t(17592),c=t(17551),u=t(58467),d=t(9506),m=t(47619),p=t(38768),f=t(94469),h=t(61113),x=t(48310),v=t(4942),b=t(74165),g=t(15861),j=t(80827),Z=t(56573),y=(0,j.hg)("notesApp/labels/getLabels",(0,g.Z)((0,b.Z)().mark((function e(){var n,t;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.get("/api/notes/labels");case 2:return n=e.sent,e.next=5,n.data;case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),C=(0,j.hg)("notesApp/labels/createLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.post("/api/notes/labels",n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),w=(0,j.hg)("notesApp/labels/updateLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.put("/api/notes/labels/".concat(n.id),n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),N=(0,j.hg)("notesApp/labels/removeLabel",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.delete("/api/notes/labels/".concat(n));case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),k=(0,j.HF)({}),S=k.getSelectors((function(e){return e.notesApp.labels})),D=S.selectAll,A=S.selectEntities,z=(S.selectById,(0,j.oM)({name:"notesApp/labels",initialState:k.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:function(e,n){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,n){e.labelsDialogOpen=!1}},extraReducers:(r={},(0,v.Z)(r,y.fulfilled,k.setAll),(0,v.Z)(r,w.fulfilled,k.upsertOne),(0,v.Z)(r,N.fulfilled,k.removeOne),(0,v.Z)(r,C.fulfilled,k.addOne),r)})),I=z.actions,O=I.openLabelsDialog,P=I.closeLabelsDialog,E=function(e){return e.notesApp.labels.labelsDialogOpen},T=z.reducer,L=t(1413),F=t(62563),R=t(75627),M=t(58970),V=t(24631),_=t(47131),H=t(41727),U=t(60194),q=t(83061),W=t(21933),B=t(56993);var Q=function(e){return e=e||{},M.Z.defaults(e,{title:""})},X=t(46417),Y={title:""},$=W.Ry().shape({title:W.Z_().required("You must enter a label title")});var G=function(e){var n=(0,o.I0)(),t=(0,R.cI)({mode:"onChange",defaultValues:Y,resolver:(0,F.X)($)}),r=t.control,a=t.formState,l=t.handleSubmit,i=t.reset,s=a.isValid,c=a.dirtyFields,u=a.errors;return(0,X.jsx)("form",{onSubmit:l((function(e){var t=Q(e);n(C(t)),i(Y)})),children:(0,X.jsx)(U.ZP,{className:"p-0 mb-16",dense:!0,children:(0,X.jsx)(R.Qr,{name:"title",control:r,render:function(e){var n,t=e.field;return(0,X.jsx)(V.Z,(0,L.Z)((0,L.Z)({},t),{},{className:(0,q.default)("flex flex-1"),error:!!u.title,helperText:null===u||void 0===u||null===(n=u.title)||void 0===n?void 0:n.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,X.jsx)(H.Z,{position:"start",children:(0,X.jsx)(B.Z,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,X.jsx)(H.Z,{position:"end",children:(0,X.jsx)(_.Z,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:M.Z.isEmpty(c)||!s,type:"submit",size:"large",children:(0,X.jsx)(B.Z,{color:"action",size:20,children:"heroicons-outline:check"})})})}}))}})})})},J=t(69649),K=W.Ry().shape({title:W.Z_().required("You must enter a label title")});var ee=function(e){var n=e.label,t=(0,o.I0)(),r=(0,R.cI)({mode:"onChange",defaultValues:n,resolver:(0,F.X)(K)}),a=r.control,l=r.formState,s=(r.handleSubmit,r.reset),c=r.watch,u=(l.isValid,l.dirtyFields,l.errors),d=c();(0,i.useEffect)((function(){s(n)}),[n,s]);var m=(0,J.Nr)((function(e,n){e&&d&&!M.Z.isEqual(n,e)&&t(w(n))}),300);function p(){t(N(n.id))}return(0,i.useEffect)((function(){m(n,d)}),[m,n,d]),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(U.ZP,{className:"p-0 mb-16",dense:!0,children:(0,X.jsx)(R.Qr,{name:"title",control:a,render:function(e){var n,t=e.field;return(0,X.jsx)(V.Z,(0,L.Z)((0,L.Z)({},t),{},{className:(0,q.default)("flex flex-1"),error:!!u.title,helperText:null===u||void 0===u||null===(n=u.title)||void 0===n?void 0:n.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,X.jsx)(H.Z,{position:"start",children:(0,X.jsx)(B.Z,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,X.jsx)(H.Z,{position:"end",children:(0,X.jsx)(_.Z,{onClick:p,className:"w-32 h-32 p-0","aria-label":"Delete",size:"large",children:(0,X.jsx)(B.Z,{color:"action",size:20,children:"heroicons-outline:trash"})})})}}))}})})})};var ne,te=function(e){var n=(0,o.I0)(),t=(0,o.v9)(E),r=(0,o.v9)(D);return(0,X.jsxs)(f.Z,{classes:{paper:"w-full max-w-320 p-24 md:p-40 m-24"},onClose:function(e){return n(P())},open:t,children:[(0,X.jsx)(h.Z,{className:"text-20 mb-24 font-semibold",children:"Edit Labels"}),(0,X.jsxs)(x.Z,{dense:!0,children:[(0,X.jsx)(G,{}),r.map((function(e){return(0,X.jsx)(ee,{label:e},e.id)}))]})]})},re=t(50301),ae=t(76747),le=(0,j.hg)("notesApp/notes/getNotes",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r,a,l;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.filter,t=n.id,"labels"===n.filter&&(r="/api/notes/labels/".concat(t)),"archive"===n.filter&&(r="/api/notes/archive"),"reminders"===n.filter&&(r="/api/notes/reminders"),n.filter||(r="/api/notes"),e.next=7,Z.Z.get(r);case 7:return a=e.sent,e.next=10,a.data;case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),ie=(0,j.hg)("notesApp/notes/createNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.post("/api/notes",n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),oe=(0,j.hg)("notesApp/notes/updateNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n){var t,r;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.put("/api/notes/".concat(n.id),n);case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),se=(0,j.hg)("notesApp/notes/removeNote",function(){var e=(0,g.Z)((0,b.Z)().mark((function e(n,t){var r,a,l;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.getState,e.next=3,Z.Z.delete("/api/notes/".concat(n));case 3:return a=e.sent,e.next=6,a.data;case 6:return l=e.sent,r(be()),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),ce=(0,j.HF)({}),ue=ce.getSelectors((function(e){return e.notesApp.notes})),de=ue.selectAll,me=ue.selectEntities,pe=(ue.selectById,(0,j.oM)({name:"notesApp/notes",initialState:ce.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:function(e,n){e.searchText=n.payload},prepare:function(e){return{payload:e.target.value||""}}},resetNotesSearchText:function(e,n){e.searchText=""},toggleVariateDescSize:function(e,n){e.variateDescSize=!e.variateDescSize},openNoteDialog:function(e,n){e.noteDialogId=n.payload},closeNoteDialog:function(e,n){e.noteDialogId=n.null}},extraReducers:(ne={},(0,v.Z)(ne,le.fulfilled,ce.setAll),(0,v.Z)(ne,ie.fulfilled,ce.addOne),(0,v.Z)(ne,oe.fulfilled,ce.upsertOne),(0,v.Z)(ne,se.fulfilled,ce.removeOne),ne)})),fe=pe.actions,he=fe.setNotesSearchText,xe=(fe.resetNotesSearchText,fe.toggleVariateDescSize),ve=fe.openNoteDialog,be=fe.closeNoteDialog,ge=function(e){return e.notesApp.notes.variateDescSize},je=function(e){return e.notesApp.notes.searchText},Ze=(0,ae.P1)([function(e){return e.notesApp.notes.noteDialogId},me],(function(e,n){return n[e]})),ye=pe.reducer,Ce=t(77911),we=t(24193),Ne=t(42420),ke=t(56605),Se=t(49709),De=t(8139),Ae=t(89600),ze=t(93433),Ie=t(34814);var Oe=function(e){return e=e||{},M.Z.defaults(e,{id:Ie.Z.generateGUID(),content:"",completed:!1})},Pe={content:""},Ee=W.Ry().shape({content:W.Z_().required("You must enter a label title")});var Te=function(e){var n=(0,R.cI)({mode:"onChange",defaultValues:Pe,resolver:(0,F.X)(Ee)}),t=n.control,r=n.formState,a=n.handleSubmit,l=n.reset,i=r.isValid,o=r.dirtyFields,s=r.errors;return(0,X.jsx)("form",{onSubmit:a((function(n){e.onListItemAdd(Oe(n)),l(Pe)})),children:(0,X.jsx)(U.ZP,{className:"p-0",dense:!0,children:(0,X.jsx)(R.Qr,{name:"content",control:t,render:function(e){var n,t=e.field;return(0,X.jsx)(V.Z,(0,L.Z)((0,L.Z)({},t),{},{className:"flex flex-1",error:!!s.content,helperText:null===s||void 0===s||null===(n=s.content)||void 0===n?void 0:n.message,placeholder:"Add an item",variant:"standard",autoFocus:!0,hiddenLabel:!0,InputProps:{disableUnderline:!0,className:"px-2",startAdornment:(0,X.jsx)(H.Z,{position:"start",children:(0,X.jsx)(_.Z,{className:"w-32 h-32 p-0 -mx-6","aria-label":"Add",type:"submit",disabled:M.Z.isEmpty(o)||!i,size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:plus"})})})}}))}})})})},Le=t(44758);var Fe=function(e){function n(n){e.onListItemChange(M.Z.setIn(e.item,n.target.name,"checkbox"===n.target.type?n.target.checked:n.target.value))}return e.item?(0,X.jsxs)(U.ZP,{className:"p-0",dense:!0,children:[(0,X.jsx)(Le.Z,{className:"p-0",checked:e.item.completed,tabIndex:-1,disableRipple:!0,name:"completed",onChange:n,color:"default"}),(0,X.jsx)(ke.Z,{className:(0,q.default)("flex flex-1 mx-8",e.item.completed&&"line-through opacity-50"),name:"text",value:e.item.content,onChange:n,disableUnderline:!0}),(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)},size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:trash"})})]},e.item.id):null};var Re=function(e){function n(n){e.onCheckListChange(e.tasks.map((function(e){return e.id===n.id?n:e})))}function t(n){e.onCheckListChange(e.tasks.filter((function(e){return e.id!==n})))}return e.tasks?(0,X.jsx)("div",{className:e.className,children:(0,X.jsxs)(x.Z,{dense:!0,children:[e.tasks.map((function(e){return(0,X.jsx)(Fe,{item:e,onListItemChange:n,onListItemRemove:t},e.id)})),(0,X.jsx)(Te,{onListItemAdd:function(n){e.onCheckListChange([].concat((0,ze.Z)(e.tasks),[n]))}})]})}):null},Me=t(31685),Ve=t(83213),_e=t(25002);var He=function(e){var n=(0,o.v9)(D),t=(0,i.useState)(null),r=(0,a.Z)(t,2),l=r[0],s=r[1];function c(){s(null)}return(0,X.jsxs)("div",{children:[(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),s(e.currentTarget)},size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:tag"})}),(0,X.jsx)(_e.ZP,{hideBackdrop:!0,open:Boolean(l),anchorEl:l,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"},children:(0,X.jsx)(Me.Z,{onClickAway:c,children:(0,X.jsx)(x.Z,{className:"p-0",children:n.map((function(n){return(0,X.jsxs)(U.ZP,{button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(M.Z.xor(e.note.labels,[t]));var t},children:[(0,X.jsx)(B.Z,{className:"list-item-icon",size:20,color:"action",children:e.note.labels.includes(n.id)?"heroicons-outline:check-circle":"heroicons-outline:minus-circle"}),(0,X.jsx)(Ve.Z,{className:"truncate px-8",primary:n.title,disableTypography:!0})]},n.id)}))})})})]})},Ue=t(42225);var qe=function(e){return(0,i.useMemo)((function(){return(0,X.jsx)(Ue.x,{disablePast:!0,value:e.reminder?new Date(e.reminder):null,onChange:function(n){return e.onChange(n.toString())},showToolbar:!0,defaultValue:new Date(Date.now()),sx:{"& .MuiInputAdornment-root":{minWidth:40,minHeight:40,m:0},"& .MuiOutlinedInput-notchedOutline":{display:"none"},"& .MuiOutlinedInput-root":{padding:0},"& .MuiInputBase-input":{position:"absolute",pointerEvents:"none",visibility:"hidden"}},slotProps:{actionBar:{actions:["clear","today"]}},slots:{openPickerIcon:function(){return(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:bell"})}}})}),[e.reminder])};var We=function(e){return(0,X.jsxs)("label",{htmlFor:"button-file",children:[(0,X.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(n){var t=n.target.files[0];if(t){var r=new FileReader;r.readAsBinaryString(t),r.onload=function(){e.onChange&&e.onChange("data:".concat(t.type,";base64,").concat(btoa(r.result)))},r.onerror=function(){console.log("error on load image")}}}}),(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0",component:"span",size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:photograph"})})]})};var Be=function(e){return e=e||{},M.Z.defaults(e,{title:"",content:"",tasks:[],image:"",reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null})},Qe=t(66212);var Xe=function(e){return e.date?(0,X.jsx)(Qe.Z,{icon:(0,X.jsx)(B.Z,{size:16,children:"heroicons-outline:clock"}),label:(0,Ae.Z)(new Date(e.date),"MMM dd yy, h:mm"),classes:(0,L.Z)({root:(0,q.default)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16"},e.classes),sx:{color:"text.secondary",backgroundColor:function(e){return(0,c._j)(e.palette.background.default,.03)}},variant:"outlined",onDelete:e.onDelete}):null},Ye=t(2135);var $e=function(e){var n=(0,o.v9)(A);if(!n)return null;var t=n[e.id];if(!t)return null;var r=e.linkable?{element:Ye.rU,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(t.id)}:{};return(0,X.jsx)(Qe.Z,(0,L.Z)((0,L.Z)({},r),{},{label:t.title,classes:(0,L.Z)({root:(0,q.default)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16"},e.classes),sx:{color:"text.secondary",backgroundColor:function(e){return(0,c._j)(e.palette.background.default,.03)}},variant:"outlined",onDelete:e.onDelete}))},Ge=W.Ry().shape({title:W.Z_().nullable(),content:W.Z_(),image:W.Z_().nullable(),tasks:W.IX().nullable(),oneOfThemRequired:W.Xg().when(["title","content","image","tasks"],{is:function(e,n,t,r){return!e&&!n&&!t&&!r||!!e&&!!n&&!!t&&!!r},then:function(e){return e.required("")},otherwise:function(e){return e.nullable()}})});function Je(e){var n=(0,i.useState)(!1),t=(0,a.Z)(n,2),r=t[0],l=t[1],o=(0,u.UO)(),s=e.note,c=e.variant,d=e.onChange,m=e.onCreate,p=M.Z.merge({},Be(),s,o.labelId?{labels:[o.labelId]}:null,"archive"===o.id?{archived:!0}:null),f=(0,R.cI)({mode:"onChange",defaultValues:p,resolver:(0,F.X)(Ge)}),x=f.formState,v=f.handleSubmit,b=f.getValues,g=(f.reset,f.watch),j=f.setValue,Z=f.control,y=x.isValid,C=x.dirtyFields,w=(x.errors,g());function N(e){m&&m(e)}return(0,i.useEffect)((function(){s&&"new"!==c&&d&&!M.Z.isEqual(s,w)&&d(w)}),[w,s,c,d,p]),(0,X.jsxs)("div",{className:"flex flex-col w-full",children:[(0,X.jsx)(Ce.Z,{className:"flex flex-auto w-full max-h-640",children:(0,X.jsxs)("div",{className:"w-full",children:[(0,X.jsx)(R.Qr,{name:"image",control:Z,defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value;return r&&""!==r?(0,X.jsxs)("div",{className:"relative",children:[(0,X.jsx)("img",{src:r,className:"w-full block",alt:"note"}),(0,X.jsx)(Ne.Z,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",type:"button",onClick:function(){return t("")},children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:trash"})})]}):null}}),(0,X.jsx)("div",{className:"px-20 my-16",children:(0,X.jsx)(R.Qr,{name:"title",control:Z,render:function(e){var n=e.field;return(0,X.jsx)(ke.Z,(0,L.Z)((0,L.Z)({},n),{},{className:"font-semibold text-14",placeholder:"Title",type:"text",disableUnderline:!0,fullWidth:!0}))}})}),(0,X.jsx)("div",{className:"px-20 my-16",children:(0,X.jsx)(R.Qr,{name:"content",control:Z,render:function(e){var n=e.field;return(0,X.jsx)(ke.Z,(0,L.Z)((0,L.Z)({},n),{},{placeholder:"Take a note...",multiline:!0,rows:"4",disableUnderline:!0,fullWidth:!0}))}})}),(0,X.jsx)(R.Qr,{name:"tasks",control:Z,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,a=n.value;return 0===(null===a||void 0===a?void 0:a.length)&&!r||!a&&!r?null:(0,X.jsx)("div",{className:"px-16",children:(0,X.jsx)(Re,{tasks:a||[],onCheckListChange:function(e){return t(e)}})})}}),(w.labels||w.reminder||w.createdAt)&&(0,X.jsxs)("div",{className:"flex flex-wrap w-full px-20 my-16 -mx-4",children:[w.reminder&&(0,X.jsx)(Xe,{className:"mt-4 mx-4",date:w.reminder,onDelete:function(){j("reminder",null)}}),(0,X.jsx)(R.Qr,{name:"labels",control:Z,defaultValue:[],render:function(e){var n=e.field,t=n.onChange,r=n.value;return r?r.map((function(e){return(0,X.jsx)($e,{id:e,className:"mt-4 mx-4",onDelete:function(){return t(r.filter((function(n){return n!==e})))}},e)})):null}}),w.createdAt&&(0,X.jsxs)(h.Z,{color:"text.secondary",className:"text-12 mt-8 mx-4",children:["Edited: ",(0,Ae.Z)(new Date(w.createdAt),"MMM dd yy, h:mm")]})]})]})}),(0,X.jsxs)("div",{className:"flex flex-auto justify-between items-center px-16 pb-12",children:[(0,X.jsxs)("div",{className:"flex items-center",children:[(0,X.jsx)(Se.Z,{title:"Remind me",placement:"bottom",children:(0,X.jsx)("div",{children:(0,X.jsx)(R.Qr,{name:"reminder",control:Z,render:function(e){var n=e.field,t=n.onChange,r=n.value;return(0,X.jsx)(qe,{reminder:r,onChange:t})}})})}),(0,X.jsx)(Se.Z,{title:"Add image",placement:"bottom",children:(0,X.jsx)("div",{children:(0,X.jsx)(We,{onChange:function(e){return j("image",e,{shouldDirty:!0,shouldValidate:!0})}})})}),(0,X.jsx)(Se.Z,{title:"Add tasks",placement:"bottom",children:(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return l(!r)},size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:pencil-alt"})})}),(0,X.jsx)(Se.Z,{title:"Change labels",placement:"bottom",children:(0,X.jsx)("div",{children:(0,X.jsx)(He,{note:w,onChange:function(e){return j("labels",e)}})})}),(0,X.jsx)(R.Qr,{name:"archived",control:Z,defaultValue:!1,render:function(n){var t=n.field,r=t.onChange,a=t.value;return(0,X.jsx)(Se.Z,{title:a?"Unarchive":"Archive",placement:"bottom",children:(0,X.jsx)("div",{children:(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0",onClick:function(){r(!a),"new"===e.variant&&setTimeout((function(){return N(b())}))},size:"large",children:(0,X.jsx)(B.Z,{size:20,children:a?"heroicons-solid:archive":"heroicons-outline:archive"})})})})}})]}),(0,X.jsx)("div",{className:"flex items-center",children:"new"===e.variant?(0,X.jsx)(we.Z,{className:"m-4 p-8",type:"submit",variant:"contained",color:"secondary",size:"small",onClick:v(N),disabled:M.Z.isEmpty(C)||!y,children:"Create"}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Se.Z,{title:"Delete Note",placement:"bottom",children:(0,X.jsx)(_.Z,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove,size:"large",children:(0,X.jsx)(B.Z,{size:20,children:"heroicons-outline:trash"})})}),(0,X.jsx)(we.Z,{className:"m-4",onClick:e.onClose,variant:"default",children:"Close"})]})})]})]})}Je.defaultProps={variant:"edit",note:null};var Ke=(0,De.Z)(Je),en=(0,i.forwardRef)((function(e,n){return(0,X.jsx)(re.Z,(0,L.Z)({direction:"up",ref:n},e))}));var nn=function(e){var n=(0,o.I0)(),t=(0,u.UO)(),r=(0,o.v9)(Ze),a=(0,J.Nr)((function(e){n(oe(e)).then((function(){n(le(t))}))}),600);return r?(0,X.jsx)(f.Z,{classes:{paper:"w-full m-24"},TransitionComponent:en,onClose:function(e){return n(be())},open:Boolean(null===r||void 0===r?void 0:r.id),children:(0,X.jsx)(Ke,{note:r,onChange:a,onClose:function(e){return n(be())},onRemove:function(){n(se(null===r||void 0===r?void 0:r.id))}})}):null},tn=t(70501);var rn=function(e){var n=(0,o.I0)(),t=(0,i.useState)(!1),r=(0,a.Z)(t,2),l=r[0],s=r[1];function c(){l&&(s(!1),document.removeEventListener("keydown",u,!1))}function u(e){27===e.keyCode&&c()}return(0,X.jsx)(tn.Z,{className:"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow shrink-0 cursor-text",children:l?(0,X.jsx)(Me.Z,{onClickAway:function(e){var n=document.querySelector(".prevent-add-close");!!n&&n.contains(e.target)||c()},children:(0,X.jsx)("div",{className:"w-full",children:(0,X.jsx)(Ke,{onCreate:function(e){n(ie(e)),c()},variant:"new"})})}):(0,X.jsx)(h.Z,{className:"w-full px-16 py-12 text-16 w-full",color:"text.secondary",onClick:function(e){e.stopPropagation(),s(!0),document.addEventListener("keydown",u,!1)},children:"Take a note..."})})},an=t(15671),ln=t(43144),on=t(97326),sn=t(60136),cn=t(29388);function un(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function dn(){return dn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dn.apply(this,arguments)}function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function pn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){fn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function fn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var hn={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},xn=function(e){(0,sn.Z)(t,e);var n=(0,cn.Z)(t);function t(e){var r,a;return(0,an.Z)(this,t),(r=n.call(this,e)).reCalculateColumnCount=r.reCalculateColumnCount.bind((0,on.Z)(r)),r.reCalculateColumnCountDebounce=r.reCalculateColumnCountDebounce.bind((0,on.Z)(r)),a=r.props.breakpointCols&&r.props.breakpointCols.default?r.props.breakpointCols.default:parseInt(r.props.breakpointCols)||2,r.state={columnCount:a},r}return(0,ln.Z)(t,[{key:"componentDidMount",value:function(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"componentDidUpdate",value:function(){this.reCalculateColumnCount()}},{key:"componentWillUnmount",value:function(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}},{key:"reCalculateColumnCountDebounce",value:function(){var e=this;window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((function(){e.reCalculateColumnCount()}))):this.reCalculateColumnCount()}},{key:"reCalculateColumnCount",value:function(){var e=window&&window.innerWidth||1/0,n=this.props.breakpointCols;"object"!==typeof n&&(n={default:parseInt(n)||2});var t=1/0,r=n.default||2;for(var a in n){var l=parseInt(a);l>0&&e<=l&&l<t&&(t=l,r=n[a])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}},{key:"itemsInColumns",value:function(){for(var e=this.state.columnCount,n=new Array(e),t=i.Children.toArray(this.props.children),r=0;r<t.length;r++){var a=r%e;n[a]||(n[a]=[]),n[a].push(t[r])}return n}},{key:"renderColumns",value:function(){var e=this.props,n=e.column,t=e.columnAttrs,r=void 0===t?{}:t,a=e.columnClassName,l=this.itemsInColumns(),o="".concat(100/l.length,"%"),s=a;s&&"string"!==typeof s&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof s&&(s="my-masonry-grid_column"));var c=pn(pn(pn({},n),r),{},{style:pn(pn({},r.style),{},{width:o}),className:s});return l.map((function(e,n){return i.createElement("div",dn({},c,{key:n}),e)}))}},{key:"logDeprecated",value:function(e){console.error("[Masonry]",e)}},{key:"render",value:function(){var e=this.props,n=(e.children,e.breakpointCols,e.columnClassName,e.columnAttrs,e.column,e.className),t=un(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),r=n;return"string"!==typeof n&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof n&&(r="my-masonry-grid")),i.createElement("div",dn({},t,{className:r}),this.renderColumns())}}]),t}(i.Component);xn.defaultProps=hn;var vn=xn,bn=t(73428),gn=t(67677),jn={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var Zn=function(e,n,t){if(n){n.style.fontSize=null,n.style.lineHeight=null;var r=n.clientWidth;if(0!==r&&t){var a,l=document.createElement("div");l.style.display="inline-block",l.style.fontSize="10px",l.style.fontWeight="600",l.style.lineHeight="10px",l.style.position="absolute",l.style.whiteSpace="pre-wrap",l.style.wordWrap="break-word",l.style.pointerEvents="none",l.style.visibility="hidden",document.body.appendChild(l);var i=e.split(" ").map((function(e){return l.textContent=e.toString(),l.clientWidth})),o=Math.max.apply(Math,(0,ze.Z)(i)),s=Math.floor(10*r/o);s<18?a=1:s>=18&&s<24?a=2:s>=24&&s<36?a=3:s>=36&&s<48?a=4:s>=48&&(a=5);var c=jn[a],u=c.lineHeight,d=c.fontSize;l.textContent=e,l.style.width="".concat(r,"px"),l.style.fontSize="".concat(d,"px"),l.style.lineHeight="".concat(u,"px");var m=l.clientHeight/u;m>4&&m<6?a=4:m>=6&&m<9?a=3:m>=9&&m<11?a=2:m>=11&&(a=1),document.body.removeChild(l),u=jn[a].lineHeight,d=jn[a].fontSize,n.style.fontSize="".concat(d,"px"),n.style.lineHeight="".concat(u,"px")}}};var yn=function(e){var n=(0,o.I0)();return(0,X.jsx)(gn.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1}},children:(0,X.jsxs)(bn.Z,{className:(0,q.default)("cursor-pointer",e.className),onClick:function(){return n(ve(e.note.id))},children:[e.note.image&&""!==e.note.image&&(0,X.jsx)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&(0,X.jsx)(h.Z,{className:"px-20 my-16 text-14 font-semibold",children:e.note.title}),e.note.content&&""!==e.note.content&&(0,X.jsx)(h.Z,{className:"px-20 my-16 ",component:"div",children:(0,X.jsx)("div",{className:(0,q.default)("w-full break-words",e.variateDescSize?"font-500":"text-14"),ref:function(n){setTimeout((function(){return Zn(e.note.content,n,e.variateDescSize)}))},children:e.note.content})}),e.note.tasks&&e.note.tasks.length>0&&(0,X.jsx)("ul",{className:"px-20 my-16 flex flex-wrap list-reset",children:e.note.tasks.map((function(e){return(0,X.jsxs)("li",{className:"flex items-center w-full",children:[(0,X.jsx)(B.Z,{color:e.completed?"secondary":"disabled",size:20,children:"heroicons-outline:check-circle"}),(0,X.jsx)(h.Z,{className:(0,q.default)("truncate mx-8",e.completed&&"line-through"),color:e.completed?"text.secondary":"inherit",children:e.content})]},e.id)}))}),(e.note.labels.length>0||e.note.reminder)&&(0,X.jsxs)("div",{className:"px-20 my-16 flex flex-wrap w-full -mx-2",children:[e.note.reminder&&(0,X.jsx)(Xe,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((function(e){return(0,X.jsx)($e,{id:e,className:"mt-4 mx-2 max-w-full",linkable:!0},e)}))]})]})})};var Cn=(0,De.Z)((function(e){var n=(0,o.v9)(de),t=(0,o.v9)(ge),r=(0,o.v9)(je),l=(0,u.UO)(),s=(0,i.useState)(null),c=(0,a.Z)(s,2),d=c[0],m=c[1];return(0,i.useEffect)((function(){n.length>0&&m(function(){l.id,l.labelId;var e=n;return 0===r.length?e:e=Ie.Z.filterArrayByString(e,r)}())}),[n,r,l]),d&&0!==d.length?(0,X.jsx)("div",{className:"flex flex-wrap w-full",children:(0,X.jsx)(vn,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8",children:d.map((function(e){return(0,X.jsx)(yn,{note:e,className:"w-full rounded-20 shadow mb-16",variateDescSize:t},e.id)}))})}):(0,X.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,X.jsx)(h.Z,{color:"text.secondary",variant:"h5",children:"There are no notes!"})})})),wn=t(57451),Nn=t(49914);function kn(e){var n=(0,o.I0)(),t=(0,o.v9)(je);return(0,X.jsx)(Nn.Z,{component:gn.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-1 items-center px-16 rounded-full h-40 w-fullsm:max-w-240",placeholder:"Search note",variant:"outlined",fullWidth:!0,startAdornment:(0,X.jsx)(H.Z,{position:"start",children:(0,X.jsx)(B.Z,{color:"disabled",children:"heroicons-solid:search"})}),inputProps:{"aria-label":"Search"},value:t,onChange:function(e){return n(he(e))}})}kn.defaultProps={trigger:(0,X.jsx)(_.Z,{className:"w-64 h-64",size:"large",children:(0,X.jsx)(B.Z,{children:"heroicons-outline:search"})})};var Sn=kn;var Dn=function(e){var n=(0,o.I0)(),t=(0,o.v9)(ge);return(0,X.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 items-center justify-between p-8 sm:p-24 sm:px-32 relative",children:[(0,X.jsxs)("div",{className:"flex shrink items-center sm:w-224",children:[(0,X.jsx)(wn.Z,{lgUp:!0,children:(0,X.jsx)(_.Z,{onClick:function(n){return e.onSetSidebarOpen(!0)},"aria-label":"open left sidebar",size:"large",children:(0,X.jsx)(B.Z,{children:"heroicons-outline:menu"})})}),(0,X.jsx)("div",{className:"flex items-center",children:(0,X.jsx)(h.Z,{component:gn.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Notes"})})]}),(0,X.jsxs)("div",{className:"flex flex-1 w-full sm:w-auto items-center justify-end space-x-12",children:[(0,X.jsx)(Se.Z,{title:"Toggle Variate Description Size",children:(0,X.jsx)(_.Z,{onClick:function(e){return n(xe())},size:"large",children:(0,X.jsx)(B.Z,{color:t?"action":"disabled",children:"heroicons-solid:switch-vertical"})})}),(0,X.jsx)(Sn,{})]})]})},An=t(5227),zn=(0,s.ZP)(U.ZP)((function(e){var n=e.theme;e.active;return{color:"inherit!important",textDecoration:"none!important",height:40,width:"100%",borderRadius:20,paddingLeft:16,paddingRight:16,marginBottom:8,fontWeight:500,"&.active":{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, .05)!important":"rgba(255, 255, 255, .1)!important",pointerEvents:"none","& .list-item-icon":{color:n.palette.secondary.main}},"& .list-item-icon":{marginRight:16}}}));var In=function(e){var n=(0,o.I0)(),t=(0,o.v9)(D);return(0,X.jsx)("div",{className:"px-16 py-24",children:(0,X.jsx)("div",{component:gn.E.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,X.jsxs)(x.Z,{className:"",children:[(0,X.jsxs)(zn,{button:!0,component:An.Z,to:"/apps/notes",end:!0,activeClassName:"active",children:[(0,X.jsx)(B.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil-alt"}),(0,X.jsx)(Ve.Z,{className:"truncate",primary:"Notes",disableTypography:!0})]}),(0,X.jsxs)(zn,{button:!0,component:An.Z,to:"/apps/notes/reminders",end:!0,activeClassName:"active",children:[(0,X.jsx)(B.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:bell"}),(0,X.jsx)(Ve.Z,{className:"truncate",primary:"Reminders",disableTypography:!0})]}),(0,X.jsxs)(zn,{button:!0,component:An.Z,to:"/apps/notes/archive",activeClassName:"active",children:[(0,X.jsx)(B.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:archive"}),(0,X.jsx)(Ve.Z,{className:"truncate",primary:"Archive",disableTypography:!0})]}),t.map((function(e){return(0,X.jsxs)(zn,{button:!0,component:An.Z,to:"/apps/notes/labels/".concat(e.id),end:!0,activeClassName:"active",children:[(0,X.jsx)(B.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:tag"}),(0,X.jsx)(Ve.Z,{className:"truncate",primary:e.title,disableTypography:!0})]},e.id)})),(0,X.jsxs)(zn,{button:!0,onClick:function(e){return n(O())},children:[(0,X.jsx)(B.Z,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil"}),(0,X.jsx)(Ve.Z,{className:"truncate",primary:"Edit Labels",disableTypography:!0})]})]})})})},On=(0,t(9038).UY)({notes:ye,labels:T}),Pn=(0,s.ZP)(m.Z)((function(e){e.theme;return{"& .FusePageCarded-header":{},"& .FusePageCarded-sidebar":{},"& .FusePageCarded-leftSidebar":{}}}));var En=(0,l.Z)("notesApp",On)((function(e){var n=(0,o.I0)(),t=(0,p.Z)((function(e){return e.breakpoints.down("lg")})),r=(0,i.useState)(!t),l=(0,a.Z)(r,2),s=l[0],m=l[1],f=(0,u.UO)();return(0,i.useEffect)((function(){n(le(f)),n(y())}),[n,f]),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(Pn,{header:(0,X.jsx)(Dn,{onSetSidebarOpen:m}),content:(0,X.jsxs)("div",{className:"flex flex-col w-full items-center p-24",children:[(0,X.jsxs)(d.Z,{className:"w-full rounded-16 border p-12 flex flex-col items-center",sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,c.$n)(e.palette.background.default,.4):(0,c.$n)(e.palette.background.default,.02)}},children:[(0,X.jsx)(rn,{}),(0,X.jsx)(Cn,{})]}),(0,X.jsx)(nn,{}),(0,X.jsx)(te,{})]}),leftSidebarOpen:s,leftSidebarOnClose:function(){m(!1)},leftSidebarContent:(0,X.jsx)(In,{}),scroll:t?"normal":"content"})})}))}}]);